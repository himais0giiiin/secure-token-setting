# Secure Token Block Plugin

Easy Discord Bot Builder (EDBB) 向けのプラグインです。  
コード生成用トークンをブロックから入力し、生成コードの `TOKEN` に自動反映します。

## 概要

- ブロック追加: `セキュリティ` カテゴリに `🔐 コード生成トークン` を追加
- コード反映: 生成コード内の `bot.run("TOKEN")` / `bot.run('TOKEN')` を入力トークンで置換
- 秘匿化: 共有データ・`localStorage` 保存時にトークン値を空文字へ自動マスク
- 共有保護: 共有モーダルのプレビュー画像撮影を無効化し、撮影不可メッセージを表示

## ファイル構成

- `manifest.json`
- `plugin.js`

この2ファイルを ZIP 化してインストールします。

## 導入手順

1. `manifest.json` と `plugin.js` を同じ階層に置く
2. 2ファイルを ZIP 化する
3. EDBB のプラグイン画面から ZIP をインストールする
4. プラグインを有効化する

## 使い方

1. ツールボックスの `セキュリティ` カテゴリを開く
2. `🔐 コード生成トークン` ブロックを配置してトークンを入力する
3. 「コード生成」または分割出力を実行する
4. 出力コードの `bot.run("TOKEN")` が入力値に置換される

## セキュリティ仕様

- トークン入力値はワークスペース保存時に自動で空にされます
- 共有リンク生成時もトークン入力値は共有データに含まれません
- 共有モーダルのプレビュー画像は撮影できません
- 画像エリアには撮影不可の案内文を表示します

## 注意事項

- トークンは画面上に入力されるため、画面共有や録画には注意してください
- 複数のトークンブロックを置いた場合は、最初に見つかった非空値を使用します
